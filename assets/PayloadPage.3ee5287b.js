import{Q as m}from"./QInput.9137b8b7.js";import{_ as u,a3 as p,r as f,a4 as y,K as h,a5 as _,N as e,M as i,P as d,Q as c}from"./index.ac53a0ac.js";import{Q as S}from"./QForm.d72bfcda.js";import{Q as b}from"./QCard.6ac09fa6.js";import{u as g}from"./use-quasar.b4aa5328.js";import{r as x}from"./routers.4230d415.js";import"./use-key-composition.68ad8c4b.js";import"./use-dark.8e8f74ff.js";const q={setup(){const t=g(),a=p(),r=f(null);return{payload:r,async onSubmit(){try{const o=JSON.parse(r.value);if(o&&o!={})try{const s=y(),l=await fetch(x.ASYNC,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${s.token}`},body:JSON.stringify(o)});if(l.ok){const n=await l.json();a.push(`/history/${n.task_id}`)}else t.notify({color:"red",textColor:"white",icon:"error",message:"Bad Request".concat(" ",l.status)})}catch(s){t.notify({color:"red",textColor:"white",icon:"error",message:s})}else t.notify({color:"red",textColor:"white",icon:"error",message:"JSON is Empty"})}catch{t.notify({color:"red",textColor:"white",icon:"error",message:"Invalid JSON"})}},onReset(){r.value=null}}}},Q={class:"q-pa-md q-gutter-sm"},C=d("div",{class:"text-h6 q-pb-md q-pl-sm"},"Manual",-1),N={align:"right"};function v(t,a,r,o,s,l){return h(),_("div",Q,[e(b,{class:"q-pa-md"},{default:i(()=>[C,e(S,{onSubmit:o.onSubmit,onReset:o.onReset,class:"q-gutter-md"},{default:i(()=>[e(m,{modelValue:o.payload,"onUpdate:modelValue":a[0]||(a[0]=n=>o.payload=n),filled:"",type:"textarea",label:"Payload"},null,8,["modelValue"]),d("div",N,[e(c,{label:"Submit",type:"submit",color:"primary"}),e(c,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1},8,["onSubmit","onReset"])]),_:1})])}var A=u(q,[["render",v]]);export{A as default};
